
<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

    <title>4.1.21. Hyd: model with user-own hydrodynamical simulation &#8212; SPEX Help Center 3.07.03 documentation</title>
    <link rel="stylesheet" type="text/css" href="../_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="../_static/alabaster.css" />
    <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
    <script src="../_static/jquery.js"></script>
    <script src="../_static/underscore.js"></script>
    <script src="../_static/doctools.js"></script>
    <link rel="canonical" href="https://spex-xray.github.io/spex-help/models/hyd.html" />
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="4.1.22. Knak: segmented power law transmission model" href="knak.html" />
    <link rel="prev" title="4.1.20. Hot: collisional ionisation equilibrium absorption model" href="hot.html" />
   
  <link rel="stylesheet" href="../_static/custom.css" type="text/css" />
  
  
  <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9" />

  </head><body>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          

          <div class="body" role="main">
            
  <section id="hyd-model-with-user-own-hydrodynamical-simulation">
<h1><span class="section-number">4.1.21. </span>Hyd: model with user-own hydrodynamical simulation<a class="headerlink" href="#hyd-model-with-user-own-hydrodynamical-simulation" title="Permalink to this headline">Â¶</a></h1>
<p>This model calculates the spectrum of a plasma with a given set of ion
concentrations. It allows users to calculate the X-ray spectrum
corresponding to his own hydrodynamical simulation results. The basic
usage is that the user first runs own calculations to obtain the ion
concentrations, and stores them in an ascii file. The name should be
either of <code class="docutils literal notranslate"><span class="pre">spexicon_abs.dat</span></code> or <code class="docutils literal notranslate"><span class="pre">spexicon_rel.dat</span></code>. Then the user runs
SPEX and loads the Hyd model to calculate the spectrum.</p>
<p>For users who are familiar with Fortran, we offer the supporting
fortran90 subroutine, <a class="reference download internal" download="" href="../_downloads/c14d8b7d211881ea2c6644107cb6025b/hydro_driver.f90"><code class="xref download docutils literal notranslate"><span class="pre">hydro_driver.f90</span></code></a>,
to make the ion concentration file conveniently. The usage of the
<em>hydro_driver</em> is described in <a class="reference internal" href="../tools/hydro_driver.html#sect-hydrodriver"><span class="std std-ref">Hydro driver</span></a>.</p>
<p>For more general cases users can directly load the Hyd model and just
calculate the spectrum. The model has two modes to specify the format
for the ion concentrations: absolute (mode 1) or relative (mode 2). For
mode 1, the input file must have the name <code class="docutils literal notranslate"><span class="pre">spexicon_abs.dat</span></code>, and the
values are treated as absolute ion concentrations (relative to
hydrogen). In this mode the parameters of the elemental abundances do
not affect the ion concentration nor the spectrum at all (they are
ignored). For the case that users wish to treat elemental abundances as
fitting parameters, mode=2 can be used. In this mode the input file must
have the name <code class="docutils literal notranslate"><span class="pre">spexicon_rel.dat</span></code>, which contains the ion concentrations
relative to the concentration of the relevant chemical element.</p>
<p>The parameters of the model are:</p>
<div class="line-block">
<div class="line"><code class="docutils literal notranslate"><span class="pre">hyd</span></code> : Hydrogen density in
<img class="math" src="../_images/math/22930a0ec3f5a5b815256b6ca239486029c2f7cc.svg" alt="10^{20}" style="vertical-align: 0px"/> <img class="math" src="../_images/math/fe3f93d068e0064c7b13a3e8366f80ddc73a3dbd.svg" alt="\mathrm{m}^{-3}" style="vertical-align: 0px"/></div>
<div class="line"><code class="docutils literal notranslate"><span class="pre">mode</span></code> : Mode of the model. Mode=1: read absolute ion concentration
from spexicon_abs.dat. mode=2: read relative ion concentration from
spexicon_rel.dat.</div>
</div>
<p>The following parameters are the same as for the cie-model:</p>
<div class="line-block">
<div class="line"><code class="docutils literal notranslate"><span class="pre">norm</span></code> : the normalisation, which is the emission measure
<img class="math" src="../_images/math/bc4c52be7765356c479ac3a6dfe4451c0ee2e89c.svg" alt="Y \equiv  n_{\mathrm e} n_{\mathrm H} V" style="vertical-align: -2px"/> in units of
<img class="math" src="../_images/math/c68d36011f16e4c056d0d5ccfa9fd93ea20e33b7.svg" alt="10^{64}" style="vertical-align: 0px"/> <img class="math" src="../_images/math/fe3f93d068e0064c7b13a3e8366f80ddc73a3dbd.svg" alt="\mathrm{m}^{-3}" style="vertical-align: 0px"/>, where <img class="math" src="../_images/math/e48c16ada92036b32fa6a9b5d50b0d9240f3ab9f.svg" alt="n_{\mathrm e}" style="vertical-align: -2px"/> and
<img class="math" src="../_images/math/8efa1efae49695bf0b29a8a8ca90f66fa226e04b.svg" alt="n_{\mathrm H}" style="vertical-align: -2px"/> are the electron and Hydrogen densities and
<img class="math" src="../_images/math/3b893a3b46cb3502e758072811b7c1cc89714c93.svg" alt="V" style="vertical-align: 0px"/> the volume of the source. Default value: 1.</div>
<div class="line"><code class="docutils literal notranslate"><span class="pre">t</span></code> : the electron temperature <img class="math" src="../_images/math/0846f7c1178b6af0b81412f4e843329ecfb65823.svg" alt="T_{\mathrm e}" style="vertical-align: -2px"/> in keV. Default
value: 1.</div>
<div class="line"><code class="docutils literal notranslate"><span class="pre">it</span></code> : Ion temperature in keV.</div>
<div class="line"><code class="docutils literal notranslate"><span class="pre">vrms</span></code> : RMS Velocity broadening in km/s (see <a class="reference internal" href="../theory/turbulence.html#sect-turbulence"><span class="std std-ref">Definition of the micro-turbulent velocity in SPEX</span></a>).</div>
<div class="line"><code class="docutils literal notranslate"><span class="pre">ref</span></code> : Reference element.</div>
<div class="line"><code class="docutils literal notranslate"><span class="pre">01...30</span></code> : Abundances of H to Zn.</div>
<div class="line"><code class="docutils literal notranslate"><span class="pre">file</span></code> : Filename for the non-thermal electron distribution.</div>
</div>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>By default, SPEX starts with <code class="docutils literal notranslate"><span class="pre">var</span> <span class="pre">calc</span> <span class="pre">old</span></code> (see the var
menu for explanation). If you want to use this model with the latest
atomic database, you should set the ionisation balance to U17. Note
that this is only used to calculate inner-shell ionisation rates for
the spectral evaluation, it will not affect the ion concentrations
that the user provides.</p>
</div>
<p><em>Recommended citation (first use):</em> <a class="reference external" href="https://ui.adsabs.harvard.edu/abs/2015MNRAS.449.1441K/abstract">Kosenko et al. (2015)</a>.</p>
</section>


          </div>
          
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
<p class="logo">
  <a href="../index.html">
    <img class="logo" src="../_static/logo-wide.png" alt="Logo"/>
    
  </a>
</p>








<h3>Navigation</h3>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../getstarted.html">1. Getting started</a></li>
<li class="toctree-l1"><a class="reference internal" href="../threads.html">2. Analysis threads</a></li>
<li class="toctree-l1"><a class="reference internal" href="../reference.html">3. Command overview</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../models.html">4. Spectral models</a><ul class="current">
<li class="toctree-l2 current"><a class="reference internal" href="over.html">4.1. Overview of spectral components</a></li>
<li class="toctree-l2"><a class="reference internal" href="performance.html">4.2. Optimizing model performance</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../tools.html">5. Additional tools</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pyspex.html">6. Python Interface</a></li>
<li class="toctree-l1"><a class="reference internal" href="../help.html">7. Help &amp; troubleshooting</a></li>
<li class="toctree-l1"><a class="reference internal" href="../theory.html">8. SPEX Theory</a></li>
<li class="toctree-l1"><a class="reference internal" href="../exercises.html">9. Exercises</a></li>
<li class="toctree-l1"><a class="reference internal" href="../changelog.html">10. Changelog</a></li>
<li class="toctree-l1"><a class="reference internal" href="../credits.html">11. Credits</a></li>
</ul>

<div class="relations">
<h3>Related Topics</h3>
<ul>
  <li><a href="../index.html">Documentation overview</a><ul>
  <li><a href="../models.html"><span class="section-number">4. </span>Spectral models</a><ul>
  <li><a href="over.html"><span class="section-number">4.1. </span>Overview of spectral components</a><ul>
      <li>Previous: <a href="hot.html" title="previous chapter"><span class="section-number">4.1.20. </span>Hot: collisional ionisation equilibrium absorption model</a></li>
      <li>Next: <a href="knak.html" title="next chapter"><span class="section-number">4.1.22. </span>Knak: segmented power law transmission model</a></li>
  </ul></li>
  </ul></li>
  </ul></li>
</ul>
</div>
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="../search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false"/>
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script>$('#searchbox').show(0);</script>








        </div>
      </div>
      <div class="clearer"></div>
    </div>
<div class="footer">
        Last updated on: Apr 27, 2023.<br>
    
        &copy;2023, Jelle de Plaa, Jelle Kaastra, Liyi Gu, SPEX Development Team, <a href="https://www.sron.nl/">SRON Netherlands Institute for Space Research</a>.
    

</div>

  </body>
</html>